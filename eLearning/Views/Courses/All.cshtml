@model IEnumerable<Course>

@{
    ViewData["Title"] = "All courses";
}


<section class="news">
    <div class="container">
        <a asp-action="Add" asp-controller="Courses" class="add-news">
            <span>+</span>Add new course
        </a>

        <div class="test-table-wrap">
            <table class="results-table">
                <tr>
                    <td class="description__table-name">№</td>
                    <td class="description__table-name">@Html.DisplayNameFor(model => model.Name)</td>
                    <td class="description__table-name">@Html.DisplayNameFor(model => model.Description)</td>
                    <td class="description__table-name">Students</td>
                    <td class="description__table-name table-last"></td>
                    <td class="description__table-name table-last"></td>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td class="description__table-value">@item.Id</td>
                        <td class="description__table-value"><a asp-action="Index" asp-route-id="@item.Id">
                            @item.Name
                        </a></td>
                        <td class="description__table-value">@item.Description</td>
                        <td class="description__table-value">
                            @foreach (var student in item.Courses_Students)
                            {
                            <p>
                                @student.User.FullName
                            </p>
                            }
                        </td>
                        <td class="description__table-value">
                            <a asp-action="Edit" asp-controller="Courses" asp-route-id="@item.Id">
                                <svg height="15px" viewBox="-15 -15 484.00019 484" width="15px" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m401.648438 18.234375c-24.394532-24.351563-63.898438-24.351563-88.292969 0l-22.101563 22.222656-235.269531 235.144531-.5.503907c-.121094.121093-.121094.25-.25.25-.25.375-.625.746093-.871094 1.121093 0 .125-.128906.125-.128906.25-.25.375-.371094.625-.625 1-.121094.125-.121094.246094-.246094.375-.125.375-.25.625-.378906 1 0 .121094-.121094.121094-.121094.25l-52.199219 156.96875c-1.53125 4.46875-.367187 9.417969 2.996094 12.734376 2.363282 2.332031 5.550782 3.636718 8.867188 3.625 1.355468-.023438 2.699218-.234376 3.996094-.625l156.847656-52.324219c.121094 0 .121094 0 .25-.121094.394531-.117187.773437-.285156 1.121094-.503906.097656-.011719.183593-.054688.253906-.121094.371094-.25.871094-.503906 1.246094-.753906.371093-.246094.75-.621094 1.125-.871094.125-.128906.246093-.128906.246093-.25.128907-.125.378907-.246094.503907-.5l257.371093-257.371094c24.351563-24.394531 24.351563-63.898437 0-88.289062zm-232.273438 353.148437-86.914062-86.910156 217.535156-217.535156 86.914062 86.910156zm-99.15625-63.808593 75.929688 75.925781-114.015626 37.960938zm347.664062-184.820313-13.238281 13.363282-86.917969-86.917969 13.367188-13.359375c14.621094-14.609375 38.320312-14.609375 52.945312 0l33.964844 33.964844c14.511719 14.6875 14.457032 38.332031-.121094 52.949218zm0 0" />
                                </svg>
                            </a>
                        </td>
                        <td class="description__table-value">
                            <form asp-action="Delete" method="post">
                                <input class="d-none" name="id" value="@item.Id" />
                                <button type="submit">
                                    <svg height="15px" viewBox="-57 0 512 512" width="15px" xmlns="http://www.w3.org/2000/svg">
                                        <path d="m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0" />
                                        <path d="m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0" />
                                        <path d="m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0" />
                                    </svg>
                                </button>
                            </form>

                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
</section>